(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Gt=(e,t)=>e===t,ue=Symbol("solid-proxy"),Ie=Symbol("solid-track"),xe={equals:Gt};let ft=bt;const le=1,ke=2,gt={owned:null,cleanups:null,context:null,owner:null},Me={};var N=null;let Be=null,qt=null,C=null,R=null,ne=null,Ne=0;function we(e,t){const n=C,l=N,i=e.length===0,s=t===void 0?l:t,r=i?gt:{owned:null,cleanups:null,context:s?s.context:null,owner:s},o=i?e:()=>e(()=>J(()=>Le(r)));N=r,C=null;try{return ce(o,!0)}finally{C=n,N=l}}function te(e,t){t=t?Object.assign({},xe,t):xe;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},l=i=>(typeof i=="function"&&(i=i(n.value)),ht(n,i));return[pt.bind(n),l]}function Je(e,t,n){const l=Te(e,t,!0,le);ye(l)}function Y(e,t,n){const l=Te(e,t,!1,le);ye(l)}function Ft(e,t,n){ft=Xt;const l=Te(e,t,!1,le);(!n||!n.render)&&(l.user=!0),ne?ne.push(l):ye(l)}function oe(e,t,n){n=n?Object.assign({},xe,n):xe;const l=Te(e,t,!0,0);return l.observers=null,l.observerSlots=null,l.comparator=n.equals||void 0,ye(l),pt.bind(l)}function Ut(e){return e&&typeof e=="object"&&"then"in e}function Ze(e,t,n){let l,i,s;arguments.length===2&&typeof t=="object"||arguments.length===1?(l=!0,i=e,s=t||{}):(l=e,i=t,s=n||{});let r=null,o=Me,a=!1,b="initialValue"in s,c=typeof l=="function"&&oe(l);const A=new Set,[w,D]=(s.storage||te)(s.initialValue),[F,y]=te(void 0),[S,Z]=te(void 0,{equals:!1}),[M,B]=te(b?"ready":"unresolved");function O(P,E,j,se){return r===P&&(r=null,se!==void 0&&(b=!0),(P===o||E===o)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(se,{value:E})),o=Me,V(E,j)),E}function V(P,E){ce(()=>{E===void 0&&D(()=>P),B(E!==void 0?"errored":b?"ready":"unresolved"),y(E);for(const j of A.keys())j.decrement();A.clear()},!1)}function ie(){const P=Ht,E=w(),j=F();if(j!==void 0&&!r)throw j;return C&&!C.user&&P&&Je(()=>{S(),r&&(P.resolved||A.has(P)||(P.increment(),A.add(P)))}),E}function de(P=!0){if(P!==!1&&a)return;a=!1;const E=c?c():l;if(E==null||E===!1){O(r,J(w));return}const j=o!==Me?o:J(()=>i(E,{value:w(),refetching:P}));return Ut(j)?(r=j,"value"in j?(j.status==="success"?O(r,j.value,void 0,E):O(r,void 0,void 0,E),j):(a=!0,queueMicrotask(()=>a=!1),ce(()=>{B(b?"refreshing":"pending"),Z()},!1),j.then(se=>O(j,se,void 0,E),se=>O(j,void 0,$t(se),E)))):(O(r,j,void 0,E),j)}return Object.defineProperties(ie,{state:{get:()=>M()},error:{get:()=>F()},loading:{get(){const P=M();return P==="pending"||P==="refreshing"}},latest:{get(){if(!b)return ie();const P=F();if(P&&!r)throw P;return w()}}}),c?Je(()=>de(!1)):de(!1),[ie,{refetch:de,mutate:D}]}function Vt(e){return ce(e,!1)}function J(e){if(C===null)return e();const t=C;C=null;try{return e()}finally{C=t}}function Kt(e){return N===null||(N.cleanups===null?N.cleanups=[e]:N.cleanups.push(e)),e}function Re(){return C}let Ht;function pt(){if(this.sources&&this.state)if(this.state===le)ye(this);else{const e=R;R=null,ce(()=>Ae(this),!1),R=e}if(C){const e=this.observers?this.observers.length:0;C.sources?(C.sources.push(this),C.sourceSlots.push(e)):(C.sources=[this],C.sourceSlots=[e]),this.observers?(this.observers.push(C),this.observerSlots.push(C.sources.length-1)):(this.observers=[C],this.observerSlots=[C.sources.length-1])}return this.value}function ht(e,t,n){let l=e.value;return(!e.comparator||!e.comparator(l,t))&&(e.value=t,e.observers&&e.observers.length&&ce(()=>{for(let i=0;i<e.observers.length;i+=1){const s=e.observers[i],r=Be&&Be.running;r&&Be.disposed.has(s),(r?!s.tState:!s.state)&&(s.pure?R.push(s):ne.push(s),s.observers&&yt(s)),r||(s.state=le)}if(R.length>1e6)throw R=[],new Error},!1)),t}function ye(e){if(!e.fn)return;Le(e);const t=Ne;Qt(e,e.value,t)}function Qt(e,t,n){let l;const i=N,s=C;C=N=e;try{l=e.fn(t)}catch(r){return e.pure&&(e.state=le,e.owned&&e.owned.forEach(Le),e.owned=null),e.updatedAt=n+1,_t(r)}finally{C=s,N=i}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?ht(e,l):e.value=l,e.updatedAt=n)}function Te(e,t,n,l=le,i){const s={fn:e,state:l,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:N,context:N?N.context:null,pure:n};return N===null||N!==gt&&(N.owned?N.owned.push(s):N.owned=[s]),s}function Ce(e){if(e.state===0)return;if(e.state===ke)return Ae(e);if(e.suspense&&J(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ne);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===le)ye(e);else if(e.state===ke){const l=R;R=null,ce(()=>Ae(e,t[0]),!1),R=l}}function ce(e,t){if(R)return e();let n=!1;t||(R=[]),ne?n=!0:ne=[],Ne++;try{const l=e();return Wt(n),l}catch(l){n||(ne=null),R=null,_t(l)}}function Wt(e){if(R&&(bt(R),R=null),e)return;const t=ne;ne=null,t.length&&ce(()=>ft(t),!1)}function bt(e){for(let t=0;t<e.length;t++)Ce(e[t])}function Xt(e){let t,n=0;for(t=0;t<e.length;t++){const l=e[t];l.user?e[n++]=l:Ce(l)}for(t=0;t<n;t++)Ce(e[t])}function Ae(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const l=e.sources[n];if(l.sources){const i=l.state;i===le?l!==t&&(!l.updatedAt||l.updatedAt<Ne)&&Ce(l):i===ke&&Ae(l,t)}}}function yt(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=ke,n.pure?R.push(n):ne.push(n),n.observers&&yt(n))}}function Le(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),l=e.sourceSlots.pop(),i=n.observers;if(i&&i.length){const s=i.pop(),r=n.observerSlots.pop();l<i.length&&(s.sourceSlots[r]=l,i[l]=s,n.observerSlots[l]=r)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Le(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function $t(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function _t(e,t=N){throw $t(e)}const Yt=Symbol("fallback");function ze(e){for(let t=0;t<e.length;t++)e[t]()}function Jt(e,t,n={}){let l=[],i=[],s=[],r=0,o=t.length>1?[]:null;return Kt(()=>ze(s)),()=>{let a=e()||[],b,c;return a[Ie],J(()=>{let w=a.length,D,F,y,S,Z,M,B,O,V;if(w===0)r!==0&&(ze(s),s=[],l=[],i=[],r=0,o&&(o=[])),n.fallback&&(l=[Yt],i[0]=we(ie=>(s[0]=ie,n.fallback())),r=1);else if(r===0){for(i=new Array(w),c=0;c<w;c++)l[c]=a[c],i[c]=we(A);r=w}else{for(y=new Array(w),S=new Array(w),o&&(Z=new Array(w)),M=0,B=Math.min(r,w);M<B&&l[M]===a[M];M++);for(B=r-1,O=w-1;B>=M&&O>=M&&l[B]===a[O];B--,O--)y[O]=i[B],S[O]=s[B],o&&(Z[O]=o[B]);for(D=new Map,F=new Array(O+1),c=O;c>=M;c--)V=a[c],b=D.get(V),F[c]=b===void 0?-1:b,D.set(V,c);for(b=M;b<=B;b++)V=l[b],c=D.get(V),c!==void 0&&c!==-1?(y[c]=i[b],S[c]=s[b],o&&(Z[c]=o[b]),c=F[c],D.set(V,c)):s[b]();for(c=M;c<w;c++)c in y?(i[c]=y[c],s[c]=S[c],o&&(o[c]=Z[c],o[c](c))):i[c]=we(A);i=i.slice(0,r=w),l=a.slice(0)}return i});function A(w){if(s[c]=w,o){const[D,F]=te(c);return o[c]=F,t(a[c],D)}return t(a[c])}}}function I(e,t){return J(()=>e(t||{}))}const Zt=e=>`Stale read from <${e}>.`;function z(e){const t="fallback"in e&&{fallback:()=>e.fallback};return oe(Jt(()=>e.each,e.children,t||void 0))}function ge(e){const t=e.keyed,n=oe(()=>e.when,void 0,{equals:(l,i)=>t?l===i:!l==!i});return oe(()=>{const l=n();if(l){const i=e.children;return typeof i=="function"&&i.length>0?J(()=>i(t?l:()=>{if(!J(n))throw Zt("Show");return e.when})):i}return e.fallback},void 0,void 0)}function zt(e,t,n){let l=n.length,i=t.length,s=l,r=0,o=0,a=t[i-1].nextSibling,b=null;for(;r<i||o<s;){if(t[r]===n[o]){r++,o++;continue}for(;t[i-1]===n[s-1];)i--,s--;if(i===r){const c=s<l?o?n[o-1].nextSibling:n[s-o]:a;for(;o<s;)e.insertBefore(n[o++],c)}else if(s===o)for(;r<i;)(!b||!b.has(t[r]))&&t[r].remove(),r++;else if(t[r]===n[s-1]&&n[o]===t[i-1]){const c=t[--i].nextSibling;e.insertBefore(n[o++],t[r++].nextSibling),e.insertBefore(n[--s],c),t[i]=n[s]}else{if(!b){b=new Map;let A=o;for(;A<s;)b.set(n[A],A++)}const c=b.get(t[r]);if(c!=null)if(o<c&&c<s){let A=r,w=1,D;for(;++A<i&&A<s&&!((D=b.get(t[A]))==null||D!==c+w);)w++;if(w>c-o){const F=t[r];for(;o<c;)e.insertBefore(n[o++],F)}else e.replaceChild(n[o++],t[r++])}else r++;else t[r++].remove()}}}const et="_$DX_DELEGATE";function en(e,t,n,l={}){let i;return we(s=>{i=s,t===document?e():d(t,e(),t.firstChild?null:void 0,n)},l.owner),()=>{i(),t.textContent=""}}function L(e,t,n){let l;const i=()=>{const r=document.createElement("template");return r.innerHTML=e,n?r.content.firstChild.firstChild:r.content.firstChild},s=t?()=>J(()=>document.importNode(l||(l=i()),!0)):()=>(l||(l=i())).cloneNode(!0);return s.cloneNode=s,s}function tn(e,t=window.document){const n=t[et]||(t[et]=new Set);for(let l=0,i=e.length;l<i;l++){const s=e[l];n.has(s)||(n.add(s),t.addEventListener(s,nn))}}function pe(e,t,n){n==null?e.removeAttribute(t):e.setAttribute(t,n)}function tt(e,t,n){return J(()=>e(t,n))}function d(e,t,n,l){if(n!==void 0&&!l&&(l=[]),typeof t!="function")return Pe(e,t,l,n);Y(i=>Pe(e,t(),i,n),l)}function nn(e){const t=`$$${e.type}`;let n=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==n&&Object.defineProperty(e,"target",{configurable:!0,value:n}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}});n;){const l=n[t];if(l&&!n.disabled){const i=n[`${t}Data`];if(i!==void 0?l.call(n,i,e):l.call(n,e),e.cancelBubble)return}n=n._$host||n.parentNode||n.host}}function Pe(e,t,n,l,i){for(;typeof n=="function";)n=n();if(t===n)return n;const s=typeof t,r=l!==void 0;if(e=r&&n[0]&&n[0].parentNode||e,s==="string"||s==="number")if(s==="number"&&(t=t.toString()),r){let o=n[0];o&&o.nodeType===3?o.data!==t&&(o.data=t):o=document.createTextNode(t),n=he(e,n,l,o)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t;else if(t==null||s==="boolean")n=he(e,n,l);else{if(s==="function")return Y(()=>{let o=t();for(;typeof o=="function";)o=o();n=Pe(e,o,n,l)}),()=>n;if(Array.isArray(t)){const o=[],a=n&&Array.isArray(n);if(Ge(o,t,n,i))return Y(()=>n=Pe(e,o,n,l,!0)),()=>n;if(o.length===0){if(n=he(e,n,l),r)return n}else a?n.length===0?nt(e,o,l):zt(e,n,o):(n&&he(e),nt(e,o));n=o}else if(t.nodeType){if(Array.isArray(n)){if(r)return n=he(e,n,l,t);he(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function Ge(e,t,n,l){let i=!1;for(let s=0,r=t.length;s<r;s++){let o=t[s],a=n&&n[e.length],b;if(!(o==null||o===!0||o===!1))if((b=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))i=Ge(e,o,a)||i;else if(b==="function")if(l){for(;typeof o=="function";)o=o();i=Ge(e,Array.isArray(o)?o:[o],Array.isArray(a)?a:[a])||i}else e.push(o),i=!0;else{const c=String(o);a&&a.nodeType===3&&a.data===c?e.push(a):e.push(document.createTextNode(c))}}return i}function nt(e,t,n=null){for(let l=0,i=t.length;l<i;l++)e.insertBefore(t[l],n)}function he(e,t,n,l){if(n===void 0)return e.textContent="";const i=l||document.createTextNode("");if(t.length){let s=!1;for(let r=t.length-1;r>=0;r--){const o=t[r];if(i!==o){const a=o.parentNode===e;!s&&!r?a?e.replaceChild(i,o):e.insertBefore(i,n):a&&o.remove()}else s=!0}}else e.insertBefore(i,n);return[i]}const qe=Symbol("store-raw"),be=Symbol("store-node"),ee=Symbol("store-has"),mt=Symbol("store-self");function vt(e){let t=e[ue];if(!t&&(Object.defineProperty(e,ue,{value:t=new Proxy(e,rn)}),!Array.isArray(e))){const n=Object.keys(e),l=Object.getOwnPropertyDescriptors(e);for(let i=0,s=n.length;i<s;i++){const r=n[i];l[r].get&&Object.defineProperty(e,r,{enumerable:l[r].enumerable,get:l[r].get.bind(t)})}}return t}function Ee(e){let t;return e!=null&&typeof e=="object"&&(e[ue]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function me(e,t=new Set){let n,l,i,s;if(n=e!=null&&e[qe])return n;if(!Ee(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let r=0,o=e.length;r<o;r++)i=e[r],(l=me(i,t))!==i&&(e[r]=l)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const r=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let a=0,b=r.length;a<b;a++)s=r[a],!o[s].get&&(i=e[s],(l=me(i,t))!==i&&(e[s]=l))}return e}function Oe(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function ve(e,t,n){if(e[t])return e[t];const[l,i]=te(n,{equals:!1,internal:!0});return l.$=i,e[t]=l}function ln(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===ue||t===be||(delete n.value,delete n.writable,n.get=()=>e[ue][t]),n}function St(e){Re()&&ve(Oe(e,be),mt)()}function sn(e){return St(e),Reflect.ownKeys(e)}const rn={get(e,t,n){if(t===qe)return e;if(t===ue)return n;if(t===Ie)return St(e),n;const l=Oe(e,be),i=l[t];let s=i?i():e[t];if(t===be||t===ee||t==="__proto__")return s;if(!i){const r=Object.getOwnPropertyDescriptor(e,t);Re()&&(typeof s!="function"||e.hasOwnProperty(t))&&!(r&&r.get)&&(s=ve(l,t,s)())}return Ee(s)?vt(s):s},has(e,t){return t===qe||t===ue||t===Ie||t===be||t===ee||t==="__proto__"?!0:(Re()&&ve(Oe(e,ee),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:sn,getOwnPropertyDescriptor:ln};function je(e,t,n,l=!1){if(!l&&e[t]===n)return;const i=e[t],s=e.length;n===void 0?(delete e[t],e[ee]&&e[ee][t]&&i!==void 0&&e[ee][t].$()):(e[t]=n,e[ee]&&e[ee][t]&&i===void 0&&e[ee][t].$());let r=Oe(e,be),o;if((o=ve(r,t,i))&&o.$(()=>n),Array.isArray(e)&&e.length!==s){for(let a=e.length;a<s;a++)(o=r[a])&&o.$();(o=ve(r,"length",s))&&o.$(e.length)}(o=r[mt])&&o.$()}function wt(e,t){const n=Object.keys(t);for(let l=0;l<n.length;l+=1){const i=n[l];je(e,i,t[i])}}function on(e,t){if(typeof t=="function"&&(t=t(e)),t=me(t),Array.isArray(t)){if(e===t)return;let n=0,l=t.length;for(;n<l;n++){const i=t[n];e[n]!==i&&je(e,n,i)}je(e,"length",l)}else wt(e,t)}function _e(e,t,n=[]){let l,i=e;if(t.length>1){l=t.shift();const r=typeof l,o=Array.isArray(e);if(Array.isArray(l)){for(let a=0;a<l.length;a++)_e(e,[l[a]].concat(t),n);return}else if(o&&r==="function"){for(let a=0;a<e.length;a++)l(e[a],a)&&_e(e,[a].concat(t),n);return}else if(o&&r==="object"){const{from:a=0,to:b=e.length-1,by:c=1}=l;for(let A=a;A<=b;A+=c)_e(e,[A].concat(t),n);return}else if(t.length>1){_e(e[l],t,[l].concat(n));return}i=e[l],n=[l].concat(n)}let s=t[0];typeof s=="function"&&(s=s(i,n),s===i)||l===void 0&&s==null||(s=me(s),l===void 0||Ee(i)&&Ee(s)&&!Array.isArray(s)?wt(i,s):je(e,l,s))}function cn(...[e,t]){const n=me(e||{}),l=Array.isArray(n),i=vt(n);function s(...r){Vt(()=>{l&&r.length===1?on(n,r[0]):_e(n,r)})}return[i,s]}var lt=L('<span class="material-symbols-outlined m-0 mr-2 my-1">check_box'),it=L('<span class="material-symbols-outlined m-0 mr-2 my-1">check_box_outline_blank'),st=L('<div class="text-sm pt-3"><div class="d-flex align-items-center"><div class=person-proxy-display data-toggle=collapse>, <!> (<!> [<!>])'),rt=L('<div class="collapse relation-display-container">'),ot=L("<div class=relation-display-item> <!> "),an=L("<div>Failed to fetch single with id: "),un=L("<div class=display-header data-toggle=collapse> (<!>)"),dn=L("<div class=collapse>"),fn=L("<div>Failed to fetch group with id: "),ct=L("<div>Loading (from setAppStore)"),gn=L('<div class="m-0 p-0">'),pn=L('<div class="m-0 p-0"><p class=display-header>Singles'),hn=L('<div class="container-fluid w-100 d-flex"><div class="col pt-5 pb-3"><button class="btn btn-danger mb-4">Reset Store</button><div class="container-fluid border border-secondary rounded py-4 px-2 mb-4"><div class="input-group mb-3"><select class="form-select btn-secondary text-sm rounded-left "aria-label="Example select with button addon"><option value=both selected>Both</option><option value=singles>Singles</option><option value=groups>Groups</option></select><input class="form-control form-control-sm"type=search placeholder="search for groups and singles"id=search-input><button type=button class="btn btn-primary m-0 btn-sm rounded-right">Search</button></div><div class=d-flex style=font-size:.8rem;><span class=mr-4>Gender:</span><div class="form-check form-check-inline mx-1"><input checked class=form-check-input type=radio name=gender-radio-group id=gender-choice-male value=male><label class="form-check-label mr-2"for=gender-choice-male>Male</label></div><div class="form-check form-check-inline mx-1"><input class=form-check-input type=radio name=gender-radio-group id=gender-choice-female value=female><label class="form-check-label mr-2"for=gender-choice-female>Female</label></div><div class="form-check form-check-inline mx-1"><input class=form-check-input type=radio name=gender-radio-group id=gender-choice-other value="third gender"><label class="form-check-label mr-2"for=gender-choice-other>Other/None</label></div></div></div><div id=menu_navigation><ul class="nav nav-tabs"id=myTab role=tablist><li class=nav-item role=presentation><a class="nav-link active"id=groups-tab data-toggle=tab href=#groups_section role=tab>Groups<span class="badge badge-pill ml-2"></span><span class="badge badge-pill ml-1"></span></a></li><li class=nav-item role=presentation><a class=nav-link id=singles-tab data-toggle=tab href=#singles_section role=tab>Singles<span class="badge badge-pill ml-2"></span><span class="badge badge-pill ml-1"id=group_count_badge_{{g.id}}></span></a></li></ul></div><div class=""id=browser_content><div class=tab-content id=myTabContent><div class="tab-pane show active"id=groups_section role=tabpanel><div class="container-fluid mt-4"style=overflow-y:scroll;height:80vh><ul class="m-0 pl-0 list-group mb-4"></ul><ul class="m-0 pl-0 list-group"></ul></div></div><div class=tab-pane id=singles_section role=tabpanel><div class="container-fluid mt-4"style=overflow-y:scroll;height:80vh><ul class="m-0 pl-0 list-group mb-4"></ul><ul class="m-0 pl-0 list-group"></ul></div></div><div class="tab-pane fade"id=marked_section role=tabpanel>Not implemented yet</div></div></div></div><div class="container-fluid pt-5 pb-3"><div class="d-flex flex-inline justify-content-center align-items-center"><h4 class="pl-0 mr-4">Selected</h4><div class=dropdown><button class="btn btn-sm btn-outline-secondary btn-icon dropdown-toggle"type=button id=selection-action-dropdown data-toggle=dropdown aria-expanded=false><span class=material-symbols-outlined>settings</span></button><div class=dropdown-menu><li class=dropdown-item><span> merge all</span></li><li class=dropdown-item><span> group selected </span></li><li class=dropdown-item><span>clear display</span></li></div></div></div><div class="pl-2 pb-5"id=relations-section style=overflow-y:scroll;height:120vh;></div></div><div class=col><div class=pl-0><span class=d-flex><h2 class=pl-4>Detail / Suggestions</h2><button class="btn btn-sm btn-outline-secondary ml-4"id=clearSuggestions>Clear</button></span></div><div class="pl-4 pb-5"id=detail-content style=width:100%;overflow-y:scroll;height:80vh>'),at=L('<li class="list-group-item m-o d-flex justify-content-between align-items-center "> (<!>) <span class="badge badge-primary badge-pill">'),ut=L("<div>No Results"),dt=L('<li class="list-group-item w-100 m-0">, <!> (<!>)'),bn=L("<div>No groups selected"),yn=L("<div>No singles selected");const $n=()=>{const e="/deduplication_tool/api/";let t,n;const[l,i]=te("both"),s=async(f,_)=>{const h=e+"singles-object/?person__id="+f.toString();try{await(await fetch(h,{headers:{Accept:"*/*","Content-Type":"application/json"}})).json().then(g=>g.results[0]).then(g=>{S("display","singles",_,{id:f,element:[(()=>{var x=st(),m=x.firstChild,v=m.firstChild,T=v.firstChild,k=T.nextSibling,K=k.nextSibling,H=K.nextSibling,fe=H.nextSibling,W=fe.nextSibling,re=W.nextSibling;return d(m,I(ge,{get when(){return y.editSelection.singles.includes(g.person.id)},get children(){var X=lt();return X.$$click=()=>P(g.person.id),X}}),v),d(m,I(ge,{get when(){return!y.editSelection.singles.includes(g.person.id)},get children(){var X=it();return X.$$click=()=>P(g.person.id),X}}),v),d(v,()=>g.person.name,T),d(v,()=>g.person.first_name,k),d(v,()=>g.person.id,H),d(v,()=>g.status,W),Y(()=>pe(v,"data-target",`#data_proxy_relations_${g.person.id}`)),x})(),(()=>{var x=rt();return d(x,I(z,{get each(){return g.relations},children:m=>(()=>{var v=ot(),T=v.firstChild,k=T.nextSibling,K=k.nextSibling;return d(v,()=>m.relation_type.name,T),d(v,()=>m.related_institution.name,k),d(v,()=>m.start_date,k),d(v,()=>m.end_date,null),v})()})),Y(()=>pe(x,"id",`data_proxy_relations_${g.person.id}`)),x})()]})})}catch{S("display","singles",_,{id:f,element:(()=>{var g=an();return g.firstChild,d(g,f,null),g})()})}},r=async(f,_)=>{const h=e+"groups-object/"+f.toString();try{await(await fetch(h,{headers:{Accept:"*/*","Content-Type":"application/json"}})).json().then(g=>S("display","groups",_,{id:f,element:[(()=>{var x=un(),m=x.firstChild,v=m.nextSibling,T=v.nextSibling;return d(x,()=>g.name,m),d(x,()=>g.id,v),Y(()=>pe(x,"data-target",`#data_members_${g.id}`)),x})(),(()=>{var x=dn();return d(x,I(z,{get each(){return g.members},children:m=>[(()=>{var v=st(),T=v.firstChild,k=T.firstChild,K=k.firstChild,H=K.nextSibling,fe=H.nextSibling,W=fe.nextSibling,re=W.nextSibling,X=re.nextSibling,Ue=X.nextSibling;return d(T,I(ge,{get when(){return y.editSelection.groups[g.id].includes(m.person.id)},get children(){var ae=lt();return ae.$$click=()=>E(g.id,m.person.id),ae}}),k),d(T,I(ge,{get when(){return!y.editSelection.groups[g.id].includes(m.person.id)},get children(){var ae=it();return ae.$$click=()=>E(g.id,m.person.id),ae}}),k),d(k,()=>m.person.name,K),d(k,()=>m.person.first_name,H),d(k,()=>m.person.id,W),d(k,()=>m.status,X),Y(()=>pe(k,"data-target",`#data_proxy_relations_${m.person.id}`)),v})(),(()=>{var v=rt();return d(v,I(z,{get each(){return m.relations},children:T=>(()=>{var k=ot(),K=k.firstChild,H=K.nextSibling,fe=H.nextSibling;return d(k,()=>T.relation_type.name,K),d(k,()=>T.related_institution.name,H),d(k,()=>T.start_date,H),d(k,()=>T.end_date,null),k})()})),Y(()=>pe(v,"id",`data_proxy_relations_${m.person.id}`)),v})()]})),Y(()=>pe(x,"id",`data_members_${g.id}`)),x})()]}))}catch{S("display","groups",_,{id:f,element:(()=>{var g=fn();return g.firstChild,d(g,f,null),g})()})}},[o,a]=te(),[b,c]=te(),[A,{mutate:w}]=Ze(o,j),[D,{mutate:F}]=Ze(b,se);Ft(()=>{switch(l()){case"both":t.placeholder="search for groups and singles";break;case"singles":t.placeholder="search for singles";break;case"groups":t.placeholder="search for groups";break}});const[y,S]=cn({display:{groups:[],singles:[]},editSelection:{groups:{},singles:[]}}),Z=()=>{S("display","groups",[]),S("display","singles",[]),S("editSelection","groups",{}),S("editSelection","singles",[])},M=(f,_)=>{if(y.display.singles.filter(h=>h.id===f).length===1)S("display","singles",h=>h.filter($=>$.id!==f)),y.editSelection.singles.includes(f)&&S("editSelection","singles",h=>h.filter($=>$!==f)),w(h=>[_,...h]);else{const h=y.display.singles.length;S("display","singles",h,{id:f,element:ct(),listItem:_}),w($=>$.filter(g=>g.id!==_.id)),s(f,h)}},B=(f,_)=>{if(y.display.groups.filter(h=>h.id===f).length===1)S("display","groups",h=>h.filter($=>$.id!==f)),S("editSelection","groups",f,h=>{const{[f]:$,...g}=h;return g}),F(h=>[_,...h]);else{const h=y.display.groups.length;S("display","groups",h,{id:f,element:ct(),listItem:_}),S("editSelection","groups",f,[]),F($=>$.filter(g=>g.id!==_.id)),r(f,h)}},O=oe(()=>A()?.length),V=oe(()=>D()?.length),ie=oe(()=>y.display.singles.length),de=oe(()=>y.display.groups.length),P=f=>{y.editSelection.singles.includes(f)?S("editSelection","singles",_=>_.filter(h=>h!==f)):S("editSelection","singles",y.editSelection.singles.length,f)},E=(f,_)=>{y.editSelection.groups[f].includes(_)?S("editSelection","groups",f,h=>h.filter($=>$!==_)):S("editSelection","groups",f,y.editSelection.groups[f].length,_)};async function j(f){const _=e+"singles-list/"+f;return await(await fetch(_,{headers:{Accept:"*/*","Content-Type":"application/json"}})).json().then($=>$.results.filter(g=>!y.display.singles.map(x=>x.id).includes(g.id)))}async function se(f){const _=e+"groups-list"+f;return await(await fetch(_,{headers:{Accept:"*/*","Content-Type":"application/json"}})).json().then($=>$.results.filter(g=>!y.display.groups.map(x=>x.id).includes(g.id)))}async function Fe(){const f=t&&t.value?`search=${t.value}`:null,_=document.querySelector("input[name='gender-radio-group']:checked"),h=_&&_.value?`_gender=${_.value}`:null;let $="";switch(h&&f?$=`?${h}&${f}`:h?$=`?${h}`:f?$=`?${f}`:console.log("both gender and search value where none"),l()){case"both":a($),c($);break;case"singles":a($);break;case"groups":c($);break}}return(()=>{var f=hn(),_=f.firstChild,h=_.firstChild,$=h.nextSibling,g=$.firstChild,x=g.firstChild,m=x.nextSibling,v=m.nextSibling,T=$.nextSibling,k=T.firstChild,K=k.firstChild,H=K.firstChild,fe=H.firstChild,W=fe.nextSibling,re=W.nextSibling,X=K.nextSibling,Ue=X.firstChild,ae=Ue.firstChild,Se=ae.nextSibling,$e=Se.nextSibling,xt=T.nextSibling,kt=xt.firstChild,Ve=kt.firstChild,Ct=Ve.firstChild,Ke=Ct.firstChild,At=Ke.nextSibling,Pt=Ve.nextSibling,Et=Pt.firstChild,He=Et.firstChild,Ot=He.nextSibling,jt=_.nextSibling,Qe=jt.firstChild,Nt=Qe.firstChild,Tt=Nt.nextSibling,Lt=Tt.firstChild,Dt=Lt.nextSibling,Mt=Dt.firstChild,Bt=Mt.nextSibling,It=Bt.nextSibling,Rt=It.firstChild,We=Qe.nextSibling;h.$$click=()=>Z(),x.addEventListener("change",()=>i(n.value));var Xe=n;typeof Xe=="function"?tt(Xe,x):n=x,m.$$keydown=u=>{u.key==="Enter"&&(u.stopPropagation(),u.preventDefault(),Fe())};var Ye=t;return typeof Ye=="function"?tt(Ye,m):t=m,v.$$click=Fe,d(W,de),d(re,V),d(Se,ie),d($e,O),d(Ke,I(z,{get each(){return y.display.groups.map(u=>u.listItem)},children:u=>(()=>{var p=at(),G=p.firstChild,q=G.nextSibling,Q=q.nextSibling,U=Q.nextSibling;return p.$$click=()=>B(u.id,u),p.style.setProperty("background-color","lightblue"),d(p,()=>u.name,G),d(p,()=>u.id,q),d(U,()=>u.count),p})()})),d(At,I(z,{get each(){return D()},get fallback(){return ut()},children:u=>(()=>{var p=at(),G=p.firstChild,q=G.nextSibling,Q=q.nextSibling,U=Q.nextSibling;return p.$$click=()=>B(u.id,u),p.style.setProperty("background-color","white"),d(p,()=>u.name,G),d(p,()=>u.id,q),d(U,()=>u.count),p})()})),d(He,I(z,{get each(){return y.display.singles.map(u=>u.listItem)},children:u=>(()=>{var p=dt(),G=p.firstChild,q=G.nextSibling,Q=q.nextSibling,U=Q.nextSibling;return U.nextSibling,p.$$click=()=>M(u.id,u),p.style.setProperty("background-color","lightblue"),d(p,()=>u.name,G),d(p,()=>u.first_name,q),d(p,()=>u.id,U),p})()})),d(Ot,I(z,{get each(){return A()},get fallback(){return ut()},children:u=>(()=>{var p=dt(),G=p.firstChild,q=G.nextSibling,Q=q.nextSibling,U=Q.nextSibling;return U.nextSibling,p.$$click=()=>M(u.id,u),p.style.setProperty("background-color","white"),d(p,()=>u.name,G),d(p,()=>u.first_name,q),d(p,()=>u.id,U),p})()})),Rt.$$click=Z,d(We,I(ge,{get when(){return y.display.groups.length>0},get children(){var u=gn();return d(u,I(z,{get each(){return y.display.groups.map(p=>p.element)},get fallback(){return bn()},children:p=>p})),u}}),null),d(We,I(ge,{get when(){return y.display.singles.length>0},get children(){var u=pn();return u.firstChild,d(u,I(z,{get each(){return y.display.singles.map(p=>p.element)},get fallback(){return yn()},children:p=>p}),null),u}}),null),Y(u=>{var p=de()>0?"lightblue":"lightgray",G=V()>0?"#0d6efd":"lightgray",q=V()>0?"white":"black",Q=ie()>0?"lightblue":"lightgray",U=O()>0?"#0d6efd":"lightgray",De=O()>0?"white":"black";return p!==u.e&&((u.e=p)!=null?W.style.setProperty("background-color",p):W.style.removeProperty("background-color")),G!==u.t&&((u.t=G)!=null?re.style.setProperty("background-color",G):re.style.removeProperty("background-color")),q!==u.a&&((u.a=q)!=null?re.style.setProperty("color",q):re.style.removeProperty("color")),Q!==u.o&&((u.o=Q)!=null?Se.style.setProperty("background-color",Q):Se.style.removeProperty("background-color")),U!==u.i&&((u.i=U)!=null?$e.style.setProperty("background-color",U):$e.style.removeProperty("background-color")),De!==u.n&&((u.n=De)!=null?$e.style.setProperty("color",De):$e.style.removeProperty("color")),u},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),f})()};tn(["click","keydown"]);const _n=document.getElementById("root");en(()=>I($n,{}),_n);
